//top level entity for ex/mem flip flops

import lc3b_types::*;

module ex_mem
(
	//inputs/outputs here

	input clk,

	input [3:0] id_ex_opcode_out,
	input [15:0] id_ex_trap_out,
	input [15:0] id_ex_sr1concat_out,
	input [15:0] id_ex_dest_out,
	input [15:0] id_ex_ctrl_out,
	input [15:0] id_ex_pc_out,

	input [15:0] ex_addpcadj_out,
	input [15:0] ex_alu_out,

	output [15:0] ex_mem_pc_out,
	output [3:0] ex_mem_opcode_out,
	output [15:0] ex_mem_trap_out,
	output [15:0] ex_mem_alu_out,
	output [15:0] ex_mem_sr1concat_out,
	output [15:0] ex_mem_dest_out,
	output [15:0] ex_mem_ctrl_out,
	output [15:0] ex_mem_bradj_out
);

//internal signals here

//modules here

//make regfile outs negative edge triggered! and cc too

//neg vs. pos???????

flipflop_positive ex_mem_pc_ff
(
	.clk(clk),
	.d(id_ex_pc_out),
	.q(ex_mem_pc_out)
);

flipflop_positive ex_mem_bradj_ff
(
	.clk(clk),
	.d(ex_addpcadj_out),
	.q(ex_mem_bradj_out)
);

flipflop_positive ex_mem_opcode_ff
(
	.clk(clk),
	.d(id_ex_opcode_out),
	.q(ex_mem_opcode_out)
);

flipflop_positive ex_mem_trap_ff
(
	.clk(clk),
	.d(id_ex_trap_out),
	.q(ex_mem_trap_out)
);

flipflop_positive ex_mem_alu_ff
(
	.clk(clk),
	.d(ex_alu_out),
	.q(ex_mem_alu_out)
);

flipflop_positive ex_mem_sr1concat_ff
(
	.clk(clk),
	.d(id_ex_sr1concat_out),
	.q(ex_mem_sr1concat_out)
);

flipflop_positive ex_mem_dest_ff
(
	.clk(clk),
	.d(id_ex_dest_out),
	.q(ex_mem_dest_out)
);

flipflop_positive ex_mem_ctrl_ff
(
	.clk(clk),
	.d(id_ex_ctrl_out),
	.q(ex_mem_ctrl_out)
);

endmodule : ex_mem